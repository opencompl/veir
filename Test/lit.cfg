import lit.formats
import os
from pathlib import Path

config.test_source_root = os.path.dirname(__file__)
config.name = "VeIR"
config.suffixes = ['.mlir']

veir_root = Path(config.test_source_root).parent
config.test_format = lit.formats.ShTest(preamble_commands=[f"cd {veir_root}"])
config.substitutions.append(('veir-opt', "lake exec veir-opt"))
config.substitutions.append(('veir-interpret', "lake exec veir-interpret"))
